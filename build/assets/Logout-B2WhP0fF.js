import{u as r,r as s,y as t}from"./index-gQmVmy0g.js";const c=()=>{const o=r();return s.useEffect(()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("user"));e?.id&&await fetch("http://localhost:7000/api/user/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id})}),localStorage.removeItem("user"),localStorage.removeItem("role"),localStorage.removeItem("showLoginToast"),sessionStorage.clear(),t.success("Logged out successfully",{autoClose:2e3}),o("/login",{replace:!0})}catch(e){console.error("Logout failed:",e),t.error("Logout failed"),o("/login",{replace:!0})}})()},[o]),null};export{c as default};
