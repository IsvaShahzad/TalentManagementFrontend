import{r as t,_ as L,$,au as A,O as o,av as B,Q as I,N as e,aw as Q,ax as V}from"./index-gQmVmy0g.js";import{g as z,e as D}from"./getRTLPlacement-i1rWn353.js";const O=t.forwardRef((m,T)=>{var{children:E,animation:C=!0,className:R,container:j,content:d,delay:i=0,fallbackPlacements:k=["top","right","bottom","left"],offset:N=[0,6],onHide:b,onShow:g,placement:S="top",popperConfig:p,trigger:n=["hover","focus"],visible:u}=m,x=L(m,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","popperConfig","trigger","visible"]);const s=t.useRef(null),r=t.useRef(null),H=$(T,s),h=`tooltip${t.useId()}`,[c,y]=t.useState(!1),[a,P]=t.useState(u),{initPopper:_,destroyPopper:F,updatePopper:M}=A(),v=typeof i=="number"?{show:i,hide:i}:i,w={modifiers:[{name:"arrow",options:{element:".tooltip-arrow"}},{name:"flip",options:{fallbackPlacements:k}},{name:"offset",options:{offset:N}}],placement:z(S,r.current)},q=Object.assign(Object.assign({},w),typeof p=="function"?p(w):p);t.useEffect(()=>{if(u){l();return}f()},[u]),t.useEffect(()=>{if(c&&r.current&&s.current){_(r.current,s.current,q),setTimeout(()=>{P(!0)},v.show);return}!c&&r.current&&s.current&&F()},[c]),t.useEffect(()=>{!a&&r.current&&s.current&&D(()=>{y(!1)},s.current)},[a]);const l=()=>{y(!0),g&&g()},f=()=>{setTimeout(()=>{P(!1),b&&b()},v.hide)};return t.useEffect(()=>{M()},[d]),o.createElement(o.Fragment,null,o.cloneElement(E,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a&&{"aria-describedby":h}),{ref:r}),(n==="click"||n.includes("click"))&&{onClick:()=>a?f():l()}),(n==="focus"||n.includes("focus"))&&{onFocus:()=>l(),onBlur:()=>f()}),(n==="hover"||n.includes("hover"))&&{onMouseEnter:()=>l(),onMouseLeave:()=>f()})),o.createElement(B,{container:j,portal:!0},c&&o.createElement("div",Object.assign({className:I("tooltip","bs-tooltip-auto",{fade:C,show:a},R),id:h,ref:H,role:"tooltip"},x),o.createElement("div",{className:"tooltip-arrow"}),o.createElement("div",{className:"tooltip-inner"},d))))});O.propTypes={animation:e.bool,children:e.node,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:V,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),popperConfig:e.oneOfType([e.func,e.object]),trigger:Q,visible:e.bool};O.displayName="CTooltip";export{O as C};
