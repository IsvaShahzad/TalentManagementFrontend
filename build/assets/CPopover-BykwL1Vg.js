import{r as o,_ as L,$,au as A,O as t,av as B,Q as I,N as e,aw as Q,ax as V}from"./index-gQmVmy0g.js";import{g as z,e as D}from"./getRTLPlacement-i1rWn353.js";const O=o.forwardRef((m,w)=>{var{children:E,animation:T=!0,className:C,container:R,content:k,delay:i=0,fallbackPlacements:N=["top","right","bottom","left"],offset:j=[0,8],onHide:d,onShow:g,placement:S="top",popperConfig:f,title:x,trigger:n="click",visible:u}=m,H=L(m,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","popperConfig","title","trigger","visible"]);const r=o.useRef(null),s=o.useRef(null),_=$(w,r),b=`popover${o.useId()}`,[c,v]=o.useState(!1),[a,h]=o.useState(u),{initPopper:F,destroyPopper:M}=A(),y=typeof i=="number"?{show:i,hide:i}:i,P={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:N}},{name:"offset",options:{offset:j}}],placement:z(S,s.current)},q=Object.assign(Object.assign({},P),typeof f=="function"?f(P):f);o.useEffect(()=>{if(u){l();return}p()},[u]),o.useEffect(()=>{if(c&&s.current&&r.current){F(s.current,r.current,q),setTimeout(()=>{h(!0)},y.show);return}!c&&s.current&&r.current&&M()},[c]),o.useEffect(()=>{!a&&s.current&&r.current&&D(()=>{v(!1)},r.current)},[a]);const l=()=>{v(!0),g&&g()},p=()=>{setTimeout(()=>{h(!1),d&&d()},y.hide)};return t.createElement(t.Fragment,null,t.cloneElement(E,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a&&{"aria-describedby":b}),{ref:s}),(n==="click"||n.includes("click"))&&{onClick:()=>a?p():l()}),(n==="focus"||n.includes("focus"))&&{onFocus:()=>l(),onBlur:()=>p()}),(n==="hover"||n.includes("hover"))&&{onMouseEnter:()=>l(),onMouseLeave:()=>p()})),t.createElement(B,{container:R,portal:!0},c&&t.createElement("div",Object.assign({className:I("popover","bs-popover-auto",{fade:T,show:a},C),id:b,ref:_,role:"tooltip"},H),t.createElement("div",{className:"popover-arrow"}),t.createElement("div",{className:"popover-header"},x),t.createElement("div",{className:"popover-body"},k))))});O.propTypes={animation:e.bool,children:e.node,className:e.string,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:V,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),popperConfig:e.oneOfType([e.func,e.object]),title:e.oneOfType([e.string,e.node]),trigger:Q,visible:e.bool};O.displayName="CPopover";export{O as C};
