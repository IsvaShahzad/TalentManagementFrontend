import{r as i,u as m,j as e,d as g,C as u,e as f,f as x,g as p,h,i as y,k as j,l as C,m as b,v,o as w,q as S,L as N,s as E,y as r,w as I}from"./index-gQmVmy0g.js";const R=()=>{const[a,t]=i.useState(""),[o,n]=i.useState(!1),c=m(),d=async()=>{if(!a){r.error("Email is required"),alert("Email is required");return}n(!0);try{const s=await I(a),l=s.message||"Email verified!";s.role==="Admin"?(r.success("Admin verified. Redirecting to reset password..."),c(`/reset-password?email=${encodeURIComponent(a)}`)):s.role==="Recruiter"||s.role==="Client"?r.error("Only Admins are allowed to reset passwords. Please contact the administrator at hrbs@gmail.com."):r.error("Invalid role or user not recognized."),t("")}catch(s){console.error(s);const l=s?.response?.data?.message||"Server error. Please try again later.";r.error(l)}finally{n(!1)}};return e.jsxs("div",{className:"min-vh-100 d-flex flex-column flex-md-row align-items-center justify-content-center",style:{backgroundImage:`url(${g})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",padding:"1rem"},children:[e.jsx(u,{className:"d-flex justify-content-center align-items-center",children:e.jsx(f,{className:"justify-content-center w-100",children:e.jsx(x,{xs:12,sm:10,md:8,lg:6,xl:5,children:e.jsx(p,{className:"glass-card p-4 p-md-5 border-0",style:{fontFamily:"Inter, sans-serif"},children:e.jsxs(h,{children:[e.jsxs("div",{className:"text-center mb-3 mb-md-4",children:[e.jsx("h1",{style:{color:"#0e0d0dff",fontWeight:450,fontSize:"1.4rem"},children:"Forgot Password"}),e.jsx("p",{style:{color:"rgba(12, 12, 12, 0.8)",fontSize:"0.85rem"},children:"Enter your email to reset your password"})]}),e.jsxs(y,{onSubmit:s=>{s.preventDefault(),d()},children:[e.jsxs(j,{className:"mb-3",children:[e.jsx(C,{className:"glass-input-icon",children:e.jsx(b,{icon:v,style:{color:"#3973b6ff"}})}),e.jsx(w,{type:"email",placeholder:"Email",autoComplete:"email",className:"glass-input",value:a,onChange:s=>t(s.target.value),style:{fontSize:"0.85rem"},required:!0})]}),e.jsx("div",{className:"d-grid mt-3",children:e.jsx(S,{color:"primary",className:"w-100 py-2",style:{background:"linear-gradient(90deg, #5f8ed0ff 0%, #4a5dcaff 100%)",border:"none",borderRadius:"1px",fontSize:"1rem"},type:"submit",disabled:o,children:o?"Sending...":"Verify Email"})})]}),e.jsx("div",{className:"text-center mt-3",children:e.jsx(N,{to:"/login",style:{textDecoration:"none",color:"#000000ff",fontSize:"0.8rem"},children:"Back to Login"})}),e.jsxs("div",{className:"text-center mt-4",style:{display:"flex",justifyContent:"center",alignItems:"flex-start",gap:"6px",flexWrap:"wrap"},children:[e.jsx("img",{src:"/hrbs-logo.png",alt:"HRBS Logo",style:{height:"18px",width:"18px",transform:"translateY(-2px)"}}),e.jsx("small",{style:{color:"rgba(11, 11, 11, 0.8)",fontSize:"0.7rem"},children:"HRBS â€“ Your Global Business Partner"})]})]})})})})}),e.jsx(E,{position:"top-right",autoClose:3e3,hideProgressBar:!1})]})};export{R as default};
